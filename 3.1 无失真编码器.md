# 3.1 无失真编码器

假设一个离散的无记忆源 (DMS) 每t秒输出一个符号, $x_i, i=1,2, \ldots, L$, 每个符号从一组发生概率为 $P\left(x_i\right), i=1,2, \ldots, L$, 的有限符号中选择, DMS的熵为 (以bit/symbols为单位)
$$
H(x)=-\sum_{j=1}^L P\left(x_i\right) \log _2 P\left(x_i\right) \leq \log _2 L
$$
当所有符号等概率出现时, 等号成立。

## 离散、无失真、无记忆信源编码的一般模型

![image-20221010171130272](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221010171130272.png)

输入是信源符号集: $S=\left\{s_1, s_2, \cdots, s_q\right\}$
$\mathbf{x}$ 为编码器所用的编码符号集, 包含 $\mathrm{r}$ 个元素 $\left\{x_1, x_2, \ldots, x_r\right\}$, 称为码符号(码元)。
由码符号 $\boldsymbol{x}_i$ 组成的输出序列 $C_i$ 称为码字。
其长度 $l$ 称为码字长度或码长, 全体码字 $C_i$ 的集合 $\boldsymbol{C}$ 称为码或码书。

- 问题: 能否进行无失真编码, 怎样进行无失真编码 （若不考虑信源统计特性）
即消息、数码元数
它必须满足两个相互矛盾的条件。
$\triangleright$ 要使目标无失真, 必须符合条件, $\mathrm{q}^N \leq r^l$ (即消息≤数码元数)保证有足够的 编码符号可供使用。（一个人可以有多个名字，多个人不能叫一个名字）

为了达到有效性的目标, 它必须符合条件 $q^N \geq r^l$, 这意 味着更少的编码数更受欢迎。

若满足无失真条件则有:
$$
q^N \leq r^l \Rightarrow \frac{l}{N} \geq \frac{\log q}{\log r}
$$
结论: (1)当 $\mathrm{q}=\mathrm{r}$ 时, $l \geq N$ 不有效。
(2)当 $l=N$ 时, $r \geq q$, 亦不满足有效性

解决办法： 引入信源统计特性

考虑信源的实际统计特性(非等概), 实际消息熵为:
$$
H(S)=-\sum_i p_i \log p_i
$$
代入无失真条件得: 
$$
\quad \frac{l}{N} \geq \frac{H(S)}{\log r}
$$
结论: 即使 $q=r$, 只要 $\log r>H(S)$ 就有可能实现 $l<N$ 。 即无失真与有效性同时满足。
具体实现时： 定长与变长编码

## 定长与变长编码:

英语字母表中的 26 个字母 $2^5=32>26$, 二元定长编码:
$$
R=\left\lfloor\log _2 L\right\rfloor+1
$$
因此, 每个字母至少需要用5比特二元符号进行编码。
若考虑符号出现的概率和符号相关性的前提下, 每个英文 符号平均携带的信息量是远远小于 $5 \mathrm{bit} /$ 码符号。
$$
H_{\infty} \cong 1.4 \text { bit }
$$
直观上, 应该用少量的比特数来表示经常用到的字母, 用多 一些的比特来表示不经常用到的字母, 即采用不定长编码。

## 码的分类

- 奇异码
- 非奇异码
  - 非惟一可译码
  - 唯一可译码（可分离）
    - 即时码
    - 非即时码

### 非奇异码

- 每一个码字仅对应信源中的一个信源符号（序列）。
- 编码是单义的。

反之为奇异码或非单义码。

| 信源符号$s_i$ |      | ?(非奇异) |
| ------------- | ---- | --------- |
|               | 00   | 0         |
|               | 01   | 01        |
|               | 00   | 00        |
|               | 11   | 111       |

### 唯一可译码

- 编码单义、译码单义
- 唯一可译码首先是非奇异码，而且码的任意 一串有限长的码符号序列，只能被唯一的译 成所对应的信源符号序列。

| $s_i$ | 码1  | 码2  |
| ----- | ---- | ---- |
| $s_1$ | 00   | 0    |
| $s_2$ | 01   | 01   |
| $s_3$ | 10   | 001  |
| $s_4$ | 11   | 111  |

对于码1 , 当任意给定一串码字序列, 例如 “10001101”, 只可唯一地划分为 $10,00,11,01$, 因此是惟一可译码; 而对码 2 , 当码字序列为 “01001”"时, 可划分为 01,001 或 $01,0,01$, 所以是非惟一可译的。

注：奇共码不是唯一可译码; 非奇共码有 唯一可译码, 又有非唯一可译码。

### 即时码(非延长码,异前缀码,逗点码)

码的分类：即时码(非延长码,异前缀码,逗点码)

- 是一类唯一可译码
- 收到一个完整码字后, 可立即译码。即无需参考后续的码 符号就能立即作出判断, 进行无延时译码。
  - 已构成的码字的任何延长不再构成码字, 故称为非延长码。
  - 任意一个码字都不是其他码字的前缀部分，也称为异前缀码。

定理: 一个惟一可译码成为即时码的充要条件是其中任何个码字都不是其他码字的前缀。

![image-20221010173733045](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221010173733045.png)

码4是即时码，只要由到1就表示码完整了。

### 最佳码

- 是唯一可译码
- 其平均码长小于其他唯一可译码的平均长度

![image-20221010173913447](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221010173913447.png)

### 即时码的一种简单构造方法: 树图法

（换成表格！！）

树根
树枝数
节点
终止节点
(端数)

节数
非满树
满树

---

码字的起点
码的进制数
码字或码字
的一部分
码字

码长
变长码
等长码

![image-20221012081346181](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221012081346181.png)

在下图中, 当某一个节点 被安排为码字后, 就不再继 续伸枝, 此节点称为终端节 点 (用粗黑点表示)。

![image-20221012082117507](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221012082117507.png)

其他节点称为中间节点, (若不安排为码字) 用空心圈表示,否则用实心圆表示），给每个节点所伸出的树枝分别从左向右标上码符号 0,1 ,……。

由中间节点不安排为码字的码树构成的码字一定是即时码（否则就会出现一个码是另一个码的前缀，即时码要求异前缀）

![image-20221012082246329](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221012082246329.png)